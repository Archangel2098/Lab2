	.ORIG X3000

;SEARCH PROGRAM
;CONNOR SIMPSON
;CWS2679
;DUE 10/26/2019

	LD	R0	TABLE
	LD	R1	FIRST
	LD	R2	SECOND
	LD	R3	THIRD
	LD	R4	FOURTH
	AND	R5	R5	#0	;SET UP ALL OF THE TABLE LABELS
	
	STR	R1	R0	#0
	STR	R2	R0	#2
	STR	R3	R0	#4
	STR	R4	R0	#6
	STR	R5	R0	#8	;STORE ALL OF THE TABLE LABELS
	
	LD	R7	POINTER	
	ADD	R7	R7	#1	;MAKE R7 THE FIRST YEAR
	AND	R1	R1	#0	;CLEAR R1-R4
	AND	R2	R2	#0
	AND	R3	R3	#0
	AND	R4	R4	#0
	
CHECK	LD	R5	INTRVL1
	LDR	R6	R7	#-1

	BRZ	FINISH
	
	LDR	R6	R7	#0

	ADD	R0	R6	R5
	BRN	ANCIENT
	
	LD	R5	INTRVL2
	
	ADD	R0	R6	R5
	BRN	OLD

	LD	R5	INTRVL3

	ADD	R0	R6	R5
	BRN	RECENT

	BRNZP MODERN
		

	ADD	R7	R7	#2


ANCIENT	ADD	R1	R1	#1
	ADD	R7	R7	#2
	BRNZP	CHECK
	
OLD	ADD	R2	R2	#1
	ADD	R7	R7	#2
	BRNZP	CHECK

RECENT	ADD	R3	R3	#1
	ADD	R7	R7	#2
	BRNZP	CHECK

MODERN	ADD	R4	R4	#1
	ADD	R7	R7	#2
	BRNZP	CHECK

		

FINISH	LD	R0	TABLE
	STR	R1	R0	#1
	STR	R2	R0	#3
	STR	R3	R0	#5
	STR	R4	R0	#7
	HALT

POINTER .FILL 	X4000
TABLE	.FILL	X6000
FIRST	.FILL	X1900
SECOND	.FILL	X1901
THIRD	.FILL	X1951
FOURTH	.FILL	X2001
INTRVL1	.FILL	X-1901
INTRVL2	.FILL	X-1951
INTRVL3	.FILL	X-2001

	.END